execute at @s run playsound block.end_portal.spawn block @a ~ ~ ~ 1 1.8 0
execute at @s run playsound block.end_portal.spawn block @a ~ ~ ~ 1 2 0

execute positioned ~ ~ ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~0.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~1 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~1.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~2 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~2.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~3 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~3.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~4 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~4.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~5.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~6 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~6.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~7 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~7.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~8 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~8.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~9 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~9.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~10 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~10.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~11 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~11.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~12 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~12.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~13 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~13.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~14 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~14.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~15 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~15.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~16 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~16.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~17 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~17.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~18 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~18.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~19 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~19.5 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit
execute positioned ~ ~20 ~ as @e[tag=playing,tag=!m1hit,distance=..2.5] positioned ~-2.5 ~ ~-2.5 if entity @s[dx=5,dy=1,dz=5] unless score @s teamscore = @e[tag=magic1tmp3,limit=1] teamscore run tag @s add m1hit

execute as @e[tag=m1hit] run function items:skills/magic/1/hit
tag @e[tag=m1hit] remove m1hit