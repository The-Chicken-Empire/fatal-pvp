scoreboard players operation $tmp2 tmp = @s hp
scoreboard players operation $tmp2 tmp *= $100 main
scoreboard players operation $tmp2 tmp /= @s maxhp

scoreboard players operation $tmp3 tmp = @s mp
scoreboard players operation $tmp3 tmp *= $100 main
scoreboard players operation $tmp3 tmp /= @s maxmp

execute if score $tmp2 tmp matches ..20 run tellraw @a[tag=magic3] [{selector:"@s",bold:false,italic:false},{text:" "},{"bold":true,"color":"gold","italic":false,"text":"HP:","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpA"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpB"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":"/","underlined":true},{"bold":true,"underlined":true,"color":"gold","score":{"name":"@s","objective":"displaymaxhpA"}},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displaymaxhpB"},"underlined":true},{text:"  ","underlined":false},{color:white,text:"("},{color:"red",italic:false,bold:true,score:{name:"$tmp2",objective:"tmp"}},{color:red,italic:false,bold:true,text:"%"},{color:white,text:")"},{"text":" "},{"bold":true,"color":"aqua","italic":false,"text":"MP:","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymp"},"underlined":true},{"bold":true,"color":"aqua","italic":false,"text":"/","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymaxmp"},"underlined":true},{text:" "},{color:white,text:"("},{color:"white",italic:false,bold:true,score:{name:"$tmp3",objective:"tmp"}},{color:white,italic:false,bold:true,text:"%"},{color:white,text:")"}]
execute if score $tmp2 tmp matches 21..40 run tellraw @a[tag=magic3] [{selector:"@s",bold:false,italic:false},{text:" "},{"bold":true,"color":"gold","italic":false,"text":"HP:","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpA"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpB"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":"/","underlined":true},{"bold":true,"underlined":true,"color":"gold","score":{"name":"@s","objective":"displaymaxhpA"}},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displaymaxhpB"},"underlined":true},{text:"  ","underlined":false},{color:white,text:"("},{color:"gold",italic:false,bold:true,score:{name:"$tmp2",objective:"tmp"}},{color:gold,italic:false,bold:true,text:"%"},{color:white,text:")"},{"text":" "},{"bold":true,"color":"aqua","italic":false,"text":"MP:","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymp"},"underlined":true},{"bold":true,"color":"aqua","italic":false,"text":"/","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymaxmp"},"underlined":true},{text:" "},{color:white,text:"("},{color:"white",italic:false,bold:true,score:{name:"$tmp3",objective:"tmp"}},{color:white,italic:false,bold:true,text:"%"},{color:white,text:")"}]
execute if score $tmp2 tmp matches 41..60 run tellraw @a[tag=magic3] [{selector:"@s",bold:false,italic:false},{text:" "},{"bold":true,"color":"gold","italic":false,"text":"HP:","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpA"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpB"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":"/","underlined":true},{"bold":true,"underlined":true,"color":"gold","score":{"name":"@s","objective":"displaymaxhpA"}},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displaymaxhpB"},"underlined":true},{text:"  ","underlined":false},{color:white,text:"("},{color:"yellow",italic:false,bold:true,score:{name:"$tmp2",objective:"tmp"}},{color:yellow,italic:false,bold:true,text:"%"},{color:white,text:")"},{"text":" "},{"bold":true,"color":"aqua","italic":false,"text":"MP:","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymp"},"underlined":true},{"bold":true,"color":"aqua","italic":false,"text":"/","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymaxmp"},"underlined":true},{text:" "},{color:white,text:"("},{color:"white",italic:false,bold:true,score:{name:"$tmp3",objective:"tmp"}},{color:white,italic:false,bold:true,text:"%"},{color:white,text:")"}]
execute if score $tmp2 tmp matches 61..80 run tellraw @a[tag=magic3] [{selector:"@s",bold:false,italic:false},{text:" "},{"bold":true,"color":"gold","italic":false,"text":"HP:","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpA"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpB"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":"/","underlined":true},{"bold":true,"underlined":true,"color":"gold","score":{"name":"@s","objective":"displaymaxhpA"}},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displaymaxhpB"},"underlined":true},{text:"  ","underlined":false},{color:white,text:"("},{color:"green",italic:false,bold:true,score:{name:"$tmp2",objective:"tmp"}},{color:green,italic:false,bold:true,text:"%"},{color:white,text:")"},{"text":" "},{"bold":true,"color":"aqua","italic":false,"text":"MP:","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymp"},"underlined":true},{"bold":true,"color":"aqua","italic":false,"text":"/","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymaxmp"},"underlined":true},{text:" "},{color:white,text:"("},{color:"white",italic:false,bold:true,score:{name:"$tmp3",objective:"tmp"}},{color:white,italic:false,bold:true,text:"%"},{color:white,text:")"}]
execute if score $tmp2 tmp matches 81.. run tellraw @a[tag=magic3] [{selector:"@s",bold:false,italic:false},{text:" "},{"bold":true,"color":"gold","italic":false,"text":"HP:","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpA"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displayhpB"},"underlined":true},{"bold":true,"color":"gold","italic":false,"text":"/","underlined":true},{"bold":true,"underlined":true,"color":"gold","score":{"name":"@s","objective":"displaymaxhpA"}},{"bold":true,"color":"gold","italic":false,"text":",","underlined":true},{"bold":true,"color":"gold","italic":false,"score":{"name":"@s","objective":"displaymaxhpB"},"underlined":true},{text:"  ","underlined":false},{color:white,text:"("},{color:"dark_green",italic:false,bold:true,score:{name:"$tmp2",objective:"tmp"}},{color:dark_green,italic:false,bold:true,text:"%"},{color:white,text:")"},{"text":" "},{"bold":true,"color":"aqua","italic":false,"text":"MP:","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymp"},"underlined":true},{"bold":true,"color":"aqua","italic":false,"text":"/","underlined":true},{"bold":true,"color":"aqua","italic":false,"score":{"name":"@s","objective":"displaymaxmp"},"underlined":true},{text:" "},{color:white,text:"("},{color:"white",italic:false,bold:true,score:{name:"$tmp3",objective:"tmp"}},{color:white,italic:false,bold:true,text:"%"},{color:white,text:")"}]
scoreboard players reset $tmp2 tmp
scoreboard players reset $tmp3 tmp